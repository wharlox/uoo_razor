
sysmsg "deposit items to chests - start"
#@setvar! _this_script "Play Script: deposit-loadout\functions\deposit-items-chests"


## chest for runes (not recall runes)
@setvar! _chest_arcane_rune 0x41A976BC
## chest for exceptional gear for repair
@setvar! _chest_exceptial_to_repair 0x573FD443

@clearignore
while findtype "rune"  backpack as _this
    getlabel _this _this_label
    #sysmsg _this_label
    if "double click to place" in _this_label
        lift _this 60000
        drop _chest_arcane_rune -1 -1 -1
        wait 350
    endif
    @ignore _this
endwhile



sysmsg "deposit items to chests - complete"



#### continue script chain
if listexists _script_chain and list _script_chain > 0
    poplist _script_chain front
    foreach _a_script in _script_chain
        hotkey _a_script
    endfor
endif

stop






@clearignore
while findtype  "%%plate"  backpack as _this
    sysmsg _this
    @ignore _this
endwhile
    
stop

@clearignore
while find "exceptional"  backpack as _this
    getlabel _this _this_label
    lift _this 1
    drop _chest_exceptial_to_repair -1 -1 -1
    wait 350
    @ignore _this
endwhile



@clearignore
sysmsg "_end"

stop


# 22336 :: skill mastery orb
# 24434 :: research materials
@setvar! _skill_orb_and_rm_crate 0x43D6430D 
while findtype 22336|24434 backpack as _this
    getlabel _this _this_label
    sysmsg _this_label

    getlabel _skill_orb_and_rm_crate  _this_label
    if "125 items" in _this_label
        overhead "rare items crate full"
        dclick  _skill_orb_and_rm_crate
        break
    endif

    lift _this 60000
    drop _skill_orb_and_rm_crate -1 -1 -1
    wait 350
endwhile


@setvar! _seed_of_renewal_crate 0x43D6430D 
while findtype "seed of renewal" as _this
    getlabel _this _this_label
    sysmsg _this_label

    getlabel _seed_of_renewal_crate  _this_label
    if "125 items" in _this_label
        overhead "seed of renwal crate full"
        dclick  _seed_of_renewal_crate
        break
    endif

    lift _this 60000
    drop _seed_of_renewal_crate  -1 -1 -1

    wait 350
endwhile


@getlabel! 'backpack' _this_label
#wait 200
sysmsg "deposit items to chests - complete"




#### continue script chain
if listexists _script_chain
    poplist _script_chain front
    foreach _a_script in _script_chain
        hotkey _a_script
    endfor
endif