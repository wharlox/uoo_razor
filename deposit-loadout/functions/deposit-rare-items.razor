
sysmsg "deposit rare items - start"
#@setvar! _this_script "Play Script: deposit-loadout\functions\deposit-rare-items"

## @clearignore!


# 22336 :: skill mastery orb
# 24434 :: research materials
@setvar! _skill_orb_and_rm__crate  0x43D6430D 
while findtype 22336|24434  backpack as _this
    @ignore! _this
    getlabel _this _this_label
    sysmsg _this_label 11

    getlabel _skill_orb_and_rm__crate  _this_label
    if "125 items" in _this_label
        overhead "rare items crate full"
        dclick  _skill_orb_and_rm__crate
        break
    endif

    lift _this 60000
    drop _skill_orb_and_rm__crate -1 -1 -1
    while queued
    endwhile
    #getlabel _this _this_label
    #wait 350
endwhile



@setvar! _seed_of_renewal__crate  0x43D6430D 
while findtype "seed of renewal"  backpack as _this
    @ignore! _this
    getlabel _this _this_label
    sysmsg _this_label 11

    getlabel _seed_of_renewal__crate  _this_label
    if "125 items" in _this_label
        overhead "seed of renwal crate full"
        dclick  _seed_of_renewal__crate
        break
    endif

    lift _this 60000
    drop _seed_of_renewal__crate  -1 -1 -1
    while queued
    endwhile
    #getlabel _this _this_label
    #wait 350
endwhile



@setvar! _paragon_chest__crate  0x57BC498C

@removelist!  _paragon_chest_text_labels
@createlist!  _paragon_chest_text_labels
@pushlist!  _paragon_chest_text_labels  "chest"
@pushlist!  _paragon_chest_text_labels  "metal chest"
@pushlist!  _paragon_chest_text_labels  "wooden chest"
@pushlist!  _paragon_chest_text_labels  "strong box"

foreach _itr in _paragon_chest_text_labels
    while findtype _itr  backpack as _this
        @ignore! _this
        getlabel _this _this_label
        if "sealed"  in _this_label
            sysmsg _this_label 11

            getlabel _paragon_chest__crate  _this_label
            if "125 items" in _this_label
                overhead "paragon-chest crate full"
                dclick  _paragon_chest__crate
                break
            endif

            lift _this 60000
            drop _paragon_chest__crate 175 152 0
            while queued
            endwhile
            # -1 -1 -1
            #getlabel _this _this_label
            #wait 350
        elseif "locksmith training box" in _this_label
            sysmsg _this_label 11
            lift _this 60000
            drop backpack -1 -1 -1
            while queued
            endwhile
        endif
    endwhile
endfor



while queued
endwhile

@clearignore!



@getlabel! backpack _this_label
#wait 100
sysmsg "deposit rare items - complete"




#### continue script chain
if listexists _script_chain and list _script_chain > 0
    poplist _script_chain front
    foreach _a_script in _script_chain
        hotkey _a_script
    endfor
endif